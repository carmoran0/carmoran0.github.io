/* Weather overlay system (snow-only trimmed) */
#weather-overlay {
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    pointer-events: none;
    z-index: 9998;
    overflow: hidden;
}

/* Snow effect */
.weather-overlay.snow {
    background: linear-gradient(to bottom, rgba(200, 220, 255, 0.05) 0%, transparent 50%);
}

.snowflake {
    position: absolute;
    top: -10%;
    left: 0;
    color: #fff;
    user-select: none;
    pointer-events: none;
    /* Use transform-only animations and GPU acceleration */
    will-change: transform, opacity;
    transform: translate3d(0,0,0);
    animation-name: snowfall;
    animation-iteration-count: infinite;
    animation-timing-function: linear;
    text-shadow: 0 0 4px rgba(255, 255, 255, 0.85);
    opacity: 0.85;
}

@keyframes snowfall {
    0% {
        transform: translate3d(0,0,0) rotate(0deg);
        opacity: 0.9;
    }
    100% {
        transform: translate3d(0,110vh,0) rotate(360deg);
        opacity: 0.7;
    }
}

/* Stagger positions, sizes and durations using nth-child to avoid inline styles */
.weather-overlay.snow .snowflake:nth-child(1){ left:4%;  font-size:12px; animation-duration:10s; animation-delay:0s; }
.weather-overlay.snow .snowflake:nth-child(2){ left:12%; font-size:10px; animation-duration:9s;  animation-delay:1.2s; }
.weather-overlay.snow .snowflake:nth-child(3){ left:20%; font-size:14px; animation-duration:12s; animation-delay:0.4s; }
.weather-overlay.snow .snowflake:nth-child(4){ left:28%; font-size:11px; animation-duration:8s;  animation-delay:2.0s; }
.weather-overlay.snow .snowflake:nth-child(5){ left:36%; font-size:15px; animation-duration:13s; animation-delay:0.6s; }
.weather-overlay.snow .snowflake:nth-child(6){ left:44%; font-size:12px; animation-duration:11s; animation-delay:1.6s; }
.weather-overlay.snow .snowflake:nth-child(7){ left:52%; font-size:13px; animation-duration:10s; animation-delay:0.9s; }
.weather-overlay.snow .snowflake:nth-child(8){ left:60%; font-size:9px;  animation-duration:9s;  animation-delay:2.2s; }
.weather-overlay.snow .snowflake:nth-child(9){ left:68%; font-size:16px; animation-duration:14s; animation-delay:0.3s; }
.weather-overlay.snow .snowflake:nth-child(10){ left:76%; font-size:11px; animation-duration:10s; animation-delay:1.8s; }
.weather-overlay.snow .snowflake:nth-child(11){ left:84%; font-size:13px; animation-duration:12s; animation-delay:0.7s; }
.weather-overlay.snow .snowflake:nth-child(12){ left:92%; font-size:10px; animation-duration:9s;  animation-delay:1.1s; }

/* Disable heavy animation for users who prefer reduced motion */
@media (prefers-reduced-motion: reduce) {
    .weather-overlay.snow { display: none; }
}

/* Mobile optimizations */
@media screen and (max-width: 780px) {
    .snowflake {
        font-size: 8px !important;
    }
}
